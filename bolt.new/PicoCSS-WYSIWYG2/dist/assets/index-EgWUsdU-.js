(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:wt,setPrototypeOf:Tt,isFrozen:un,getPrototypeOf:fn,getOwnPropertyDescriptor:mn}=Object;let{freeze:L,seal:w,create:It}=Object,{apply:Be,construct:ze}=typeof Reflect<"u"&&Reflect;L||(L=function(t){return t});w||(w=function(t){return t});Be||(Be=function(t,i,r){return t.apply(i,r)});ze||(ze=function(t,i){return new t(...i)});const fe=O(Array.prototype.forEach),Et=O(Array.prototype.pop),Z=O(Array.prototype.push),de=O(String.prototype.toLowerCase),De=O(String.prototype.toString),bt=O(String.prototype.match),J=O(String.prototype.replace),dn=O(String.prototype.indexOf),pn=O(String.prototype.trim),I=O(Object.prototype.hasOwnProperty),S=O(RegExp.prototype.test),Q=hn(TypeError);function O(e){return function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return Be(e,t,r)}}function hn(e){return function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return ze(e,i)}}function u(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:de;Tt&&Tt(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const s=i(a);s!==a&&(un(t)||(t[r]=s),a=s)}e[a]=!0}return e}function gn(e){for(let t=0;t<e.length;t++)I(e,t)||(e[t]=null);return e}function F(e){const t=It(null);for(const[i,r]of wt(e))I(e,i)&&(Array.isArray(r)?t[i]=gn(r):r&&typeof r=="object"&&r.constructor===Object?t[i]=F(r):t[i]=r);return t}function ee(e,t){for(;e!==null;){const r=mn(e,t);if(r){if(r.get)return O(r.get);if(typeof r.value=="function")return O(r.value)}e=fn(e)}function i(){return null}return i}const At=L(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Me=L(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ke=L(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Tn=L(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xe=L(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),En=L(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),_t=L(["#text"]),vt=L(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Pe=L(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yt=L(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),me=L(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),bn=w(/\{\{[\w\W]*|[\w\W]*\}\}/gm),An=w(/<%[\w\W]*|[\w\W]*%>/gm),_n=w(/\$\{[\w\W]*}/gm),vn=w(/^data-[\-\w.\u00B7-\uFFFF]+$/),yn=w(/^aria-[\-\w]+$/),Dt=w(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Sn=w(/^(?:\w+script|data):/i),Ln=w(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mt=w(/^html$/i),Rn=w(/^[a-z][.\w]*(-[.\w]+)+$/i);var St=Object.freeze({__proto__:null,ARIA_ATTR:yn,ATTR_WHITESPACE:Ln,CUSTOM_ELEMENT:Rn,DATA_ATTR:vn,DOCTYPE_NAME:Mt,ERB_EXPR:An,IS_ALLOWED_URI:Dt,IS_SCRIPT_OR_DATA:Sn,MUSTACHE_EXPR:bn,TMPLIT_EXPR:_n});const te={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Nn=function(){return typeof window>"u"?null:window},Cn=function(t,i){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const a="data-tt-policy-suffix";i&&i.hasAttribute(a)&&(r=i.getAttribute(a));const s="dompurify"+(r?"#"+r:"");try{return t.createPolicy(s,{createHTML(f){return f},createScriptURL(f){return f}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Lt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function kt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Nn();const t=c=>kt(c);if(t.version="3.2.3",t.removed=[],!e||!e.document||e.document.nodeType!==te.document)return t.isSupported=!1,t;let{document:i}=e;const r=i,a=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:f,Node:R,Element:d,NodeFilter:_,NamedNodeMap:H=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:ge,DOMParser:Wt,trustedTypes:ne}=e,Y=d.prototype,Gt=ee(Y,"cloneNode"),jt=ee(Y,"remove"),Yt=ee(Y,"nextSibling"),$t=ee(Y,"childNodes"),ie=ee(Y,"parentNode");if(typeof f=="function"){const c=i.createElement("template");c.content&&c.content.ownerDocument&&(i=c.content.ownerDocument)}let v,$="";const{implementation:Te,createNodeIterator:Vt,createDocumentFragment:Xt,getElementsByTagName:qt}=i,{importNode:Kt}=r;let C=Lt();t.isSupported=typeof wt=="function"&&typeof ie=="function"&&Te&&Te.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ee,ERB_EXPR:be,TMPLIT_EXPR:Ae,DATA_ATTR:Zt,ARIA_ATTR:Jt,IS_SCRIPT_OR_DATA:Qt,ATTR_WHITESPACE:$e,CUSTOM_ELEMENT:en}=St;let{IS_ALLOWED_URI:Ve}=St,h=null;const Xe=u({},[...At,...Me,...ke,...xe,..._t]);let T=null;const qe=u({},[...vt,...Pe,...yt,...me]);let p=Object.seal(It(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),V=null,_e=null,Ke=!0,ve=!0,Ze=!1,Je=!0,U=!1,ye=!0,P=!1,Se=!1,Le=!1,B=!1,re=!1,oe=!1,Qe=!0,et=!1;const tn="user-content-";let Re=!0,X=!1,z={},W=null;const tt=u({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let nt=null;const it=u({},["audio","video","img","source","image","track"]);let Ne=null;const rt=u({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ae="http://www.w3.org/1998/Math/MathML",le="http://www.w3.org/2000/svg",k="http://www.w3.org/1999/xhtml";let G=k,Ce=!1,Oe=null;const nn=u({},[ae,le,k],De);let se=u({},["mi","mo","mn","ms","mtext"]),ce=u({},["annotation-xml"]);const rn=u({},["title","style","font","a","script"]);let q=null;const on=["application/xhtml+xml","text/html"],an="text/html";let g=null,j=null;const ln=i.createElement("form"),ot=function(n){return n instanceof RegExp||n instanceof Function},we=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(j&&j===n)){if((!n||typeof n!="object")&&(n={}),n=F(n),q=on.indexOf(n.PARSER_MEDIA_TYPE)===-1?an:n.PARSER_MEDIA_TYPE,g=q==="application/xhtml+xml"?De:de,h=I(n,"ALLOWED_TAGS")?u({},n.ALLOWED_TAGS,g):Xe,T=I(n,"ALLOWED_ATTR")?u({},n.ALLOWED_ATTR,g):qe,Oe=I(n,"ALLOWED_NAMESPACES")?u({},n.ALLOWED_NAMESPACES,De):nn,Ne=I(n,"ADD_URI_SAFE_ATTR")?u(F(rt),n.ADD_URI_SAFE_ATTR,g):rt,nt=I(n,"ADD_DATA_URI_TAGS")?u(F(it),n.ADD_DATA_URI_TAGS,g):it,W=I(n,"FORBID_CONTENTS")?u({},n.FORBID_CONTENTS,g):tt,V=I(n,"FORBID_TAGS")?u({},n.FORBID_TAGS,g):{},_e=I(n,"FORBID_ATTR")?u({},n.FORBID_ATTR,g):{},z=I(n,"USE_PROFILES")?n.USE_PROFILES:!1,Ke=n.ALLOW_ARIA_ATTR!==!1,ve=n.ALLOW_DATA_ATTR!==!1,Ze=n.ALLOW_UNKNOWN_PROTOCOLS||!1,Je=n.ALLOW_SELF_CLOSE_IN_ATTR!==!1,U=n.SAFE_FOR_TEMPLATES||!1,ye=n.SAFE_FOR_XML!==!1,P=n.WHOLE_DOCUMENT||!1,B=n.RETURN_DOM||!1,re=n.RETURN_DOM_FRAGMENT||!1,oe=n.RETURN_TRUSTED_TYPE||!1,Le=n.FORCE_BODY||!1,Qe=n.SANITIZE_DOM!==!1,et=n.SANITIZE_NAMED_PROPS||!1,Re=n.KEEP_CONTENT!==!1,X=n.IN_PLACE||!1,Ve=n.ALLOWED_URI_REGEXP||Dt,G=n.NAMESPACE||k,se=n.MATHML_TEXT_INTEGRATION_POINTS||se,ce=n.HTML_INTEGRATION_POINTS||ce,p=n.CUSTOM_ELEMENT_HANDLING||{},n.CUSTOM_ELEMENT_HANDLING&&ot(n.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(p.tagNameCheck=n.CUSTOM_ELEMENT_HANDLING.tagNameCheck),n.CUSTOM_ELEMENT_HANDLING&&ot(n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(p.attributeNameCheck=n.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),n.CUSTOM_ELEMENT_HANDLING&&typeof n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(p.allowCustomizedBuiltInElements=n.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),U&&(ve=!1),re&&(B=!0),z&&(h=u({},_t),T=[],z.html===!0&&(u(h,At),u(T,vt)),z.svg===!0&&(u(h,Me),u(T,Pe),u(T,me)),z.svgFilters===!0&&(u(h,ke),u(T,Pe),u(T,me)),z.mathMl===!0&&(u(h,xe),u(T,yt),u(T,me))),n.ADD_TAGS&&(h===Xe&&(h=F(h)),u(h,n.ADD_TAGS,g)),n.ADD_ATTR&&(T===qe&&(T=F(T)),u(T,n.ADD_ATTR,g)),n.ADD_URI_SAFE_ATTR&&u(Ne,n.ADD_URI_SAFE_ATTR,g),n.FORBID_CONTENTS&&(W===tt&&(W=F(W)),u(W,n.FORBID_CONTENTS,g)),Re&&(h["#text"]=!0),P&&u(h,["html","head","body"]),h.table&&(u(h,["tbody"]),delete V.tbody),n.TRUSTED_TYPES_POLICY){if(typeof n.TRUSTED_TYPES_POLICY.createHTML!="function")throw Q('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof n.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Q('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');v=n.TRUSTED_TYPES_POLICY,$=v.createHTML("")}else v===void 0&&(v=Cn(ne,a)),v!==null&&typeof $=="string"&&($=v.createHTML(""));L&&L(n),j=n}},at=u({},[...Me,...ke,...Tn]),lt=u({},[...xe,...En]),sn=function(n){let o=ie(n);(!o||!o.tagName)&&(o={namespaceURI:G,tagName:"template"});const l=de(n.tagName),m=de(o.tagName);return Oe[n.namespaceURI]?n.namespaceURI===le?o.namespaceURI===k?l==="svg":o.namespaceURI===ae?l==="svg"&&(m==="annotation-xml"||se[m]):!!at[l]:n.namespaceURI===ae?o.namespaceURI===k?l==="math":o.namespaceURI===le?l==="math"&&ce[m]:!!lt[l]:n.namespaceURI===k?o.namespaceURI===le&&!ce[m]||o.namespaceURI===ae&&!se[m]?!1:!lt[l]&&(rn[l]||!at[l]):!!(q==="application/xhtml+xml"&&Oe[n.namespaceURI]):!1},D=function(n){Z(t.removed,{element:n});try{ie(n).removeChild(n)}catch{jt(n)}},ue=function(n,o){try{Z(t.removed,{attribute:o.getAttributeNode(n),from:o})}catch{Z(t.removed,{attribute:null,from:o})}if(o.removeAttribute(n),n==="is")if(B||re)try{D(o)}catch{}else try{o.setAttribute(n,"")}catch{}},st=function(n){let o=null,l=null;if(Le)n="<remove></remove>"+n;else{const E=bt(n,/^[\r\n\t ]+/);l=E&&E[0]}q==="application/xhtml+xml"&&G===k&&(n='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+n+"</body></html>");const m=v?v.createHTML(n):n;if(G===k)try{o=new Wt().parseFromString(m,q)}catch{}if(!o||!o.documentElement){o=Te.createDocument(G,"template",null);try{o.documentElement.innerHTML=Ce?$:m}catch{}}const b=o.body||o.documentElement;return n&&l&&b.insertBefore(i.createTextNode(l),b.childNodes[0]||null),G===k?qt.call(o,P?"html":"body")[0]:P?o.documentElement:b},ct=function(n){return Vt.call(n.ownerDocument||n,n,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT|_.SHOW_PROCESSING_INSTRUCTION|_.SHOW_CDATA_SECTION,null)},Ie=function(n){return n instanceof ge&&(typeof n.nodeName!="string"||typeof n.textContent!="string"||typeof n.removeChild!="function"||!(n.attributes instanceof H)||typeof n.removeAttribute!="function"||typeof n.setAttribute!="function"||typeof n.namespaceURI!="string"||typeof n.insertBefore!="function"||typeof n.hasChildNodes!="function")},ut=function(n){return typeof R=="function"&&n instanceof R};function x(c,n,o){fe(c,l=>{l.call(t,n,o,j)})}const ft=function(n){let o=null;if(x(C.beforeSanitizeElements,n,null),Ie(n))return D(n),!0;const l=g(n.nodeName);if(x(C.uponSanitizeElement,n,{tagName:l,allowedTags:h}),n.hasChildNodes()&&!ut(n.firstElementChild)&&S(/<[/\w]/g,n.innerHTML)&&S(/<[/\w]/g,n.textContent)||n.nodeType===te.progressingInstruction||ye&&n.nodeType===te.comment&&S(/<[/\w]/g,n.data))return D(n),!0;if(!h[l]||V[l]){if(!V[l]&&dt(l)&&(p.tagNameCheck instanceof RegExp&&S(p.tagNameCheck,l)||p.tagNameCheck instanceof Function&&p.tagNameCheck(l)))return!1;if(Re&&!W[l]){const m=ie(n)||n.parentNode,b=$t(n)||n.childNodes;if(b&&m){const E=b.length;for(let N=E-1;N>=0;--N){const M=Gt(b[N],!0);M.__removalCount=(n.__removalCount||0)+1,m.insertBefore(M,Yt(n))}}}return D(n),!0}return n instanceof d&&!sn(n)||(l==="noscript"||l==="noembed"||l==="noframes")&&S(/<\/no(script|embed|frames)/i,n.innerHTML)?(D(n),!0):(U&&n.nodeType===te.text&&(o=n.textContent,fe([Ee,be,Ae],m=>{o=J(o,m," ")}),n.textContent!==o&&(Z(t.removed,{element:n.cloneNode()}),n.textContent=o)),x(C.afterSanitizeElements,n,null),!1)},mt=function(n,o,l){if(Qe&&(o==="id"||o==="name")&&(l in i||l in ln))return!1;if(!(ve&&!_e[o]&&S(Zt,o))){if(!(Ke&&S(Jt,o))){if(!T[o]||_e[o]){if(!(dt(n)&&(p.tagNameCheck instanceof RegExp&&S(p.tagNameCheck,n)||p.tagNameCheck instanceof Function&&p.tagNameCheck(n))&&(p.attributeNameCheck instanceof RegExp&&S(p.attributeNameCheck,o)||p.attributeNameCheck instanceof Function&&p.attributeNameCheck(o))||o==="is"&&p.allowCustomizedBuiltInElements&&(p.tagNameCheck instanceof RegExp&&S(p.tagNameCheck,l)||p.tagNameCheck instanceof Function&&p.tagNameCheck(l))))return!1}else if(!Ne[o]){if(!S(Ve,J(l,$e,""))){if(!((o==="src"||o==="xlink:href"||o==="href")&&n!=="script"&&dn(l,"data:")===0&&nt[n])){if(!(Ze&&!S(Qt,J(l,$e,"")))){if(l)return!1}}}}}}return!0},dt=function(n){return n!=="annotation-xml"&&bt(n,en)},pt=function(n){x(C.beforeSanitizeAttributes,n,null);const{attributes:o}=n;if(!o||Ie(n))return;const l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:T,forceKeepAttr:void 0};let m=o.length;for(;m--;){const b=o[m],{name:E,namespaceURI:N,value:M}=b,K=g(E);let y=E==="value"?M:pn(M);if(l.attrName=K,l.attrValue=y,l.keepAttr=!0,l.forceKeepAttr=void 0,x(C.uponSanitizeAttribute,n,l),y=l.attrValue,et&&(K==="id"||K==="name")&&(ue(E,n),y=tn+y),ye&&S(/((--!?|])>)|<\/(style|title)/i,y)){ue(E,n);continue}if(l.forceKeepAttr||(ue(E,n),!l.keepAttr))continue;if(!Je&&S(/\/>/i,y)){ue(E,n);continue}U&&fe([Ee,be,Ae],gt=>{y=J(y,gt," ")});const ht=g(n.nodeName);if(mt(ht,K,y)){if(v&&typeof ne=="object"&&typeof ne.getAttributeType=="function"&&!N)switch(ne.getAttributeType(ht,K)){case"TrustedHTML":{y=v.createHTML(y);break}case"TrustedScriptURL":{y=v.createScriptURL(y);break}}try{N?n.setAttributeNS(N,E,y):n.setAttribute(E,y),Ie(n)?D(n):Et(t.removed)}catch{}}}x(C.afterSanitizeAttributes,n,null)},cn=function c(n){let o=null;const l=ct(n);for(x(C.beforeSanitizeShadowDOM,n,null);o=l.nextNode();)x(C.uponSanitizeShadowNode,o,null),ft(o),pt(o),o.content instanceof s&&c(o.content);x(C.afterSanitizeShadowDOM,n,null)};return t.sanitize=function(c){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=null,l=null,m=null,b=null;if(Ce=!c,Ce&&(c="<!-->"),typeof c!="string"&&!ut(c))if(typeof c.toString=="function"){if(c=c.toString(),typeof c!="string")throw Q("dirty is not a string, aborting")}else throw Q("toString is not a function");if(!t.isSupported)return c;if(Se||we(n),t.removed=[],typeof c=="string"&&(X=!1),X){if(c.nodeName){const M=g(c.nodeName);if(!h[M]||V[M])throw Q("root node is forbidden and cannot be sanitized in-place")}}else if(c instanceof R)o=st("<!---->"),l=o.ownerDocument.importNode(c,!0),l.nodeType===te.element&&l.nodeName==="BODY"||l.nodeName==="HTML"?o=l:o.appendChild(l);else{if(!B&&!U&&!P&&c.indexOf("<")===-1)return v&&oe?v.createHTML(c):c;if(o=st(c),!o)return B?null:oe?$:""}o&&Le&&D(o.firstChild);const E=ct(X?c:o);for(;m=E.nextNode();)ft(m),pt(m),m.content instanceof s&&cn(m.content);if(X)return c;if(B){if(re)for(b=Xt.call(o.ownerDocument);o.firstChild;)b.appendChild(o.firstChild);else b=o;return(T.shadowroot||T.shadowrootmode)&&(b=Kt.call(r,b,!0)),b}let N=P?o.outerHTML:o.innerHTML;return P&&h["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&S(Mt,o.ownerDocument.doctype.name)&&(N="<!DOCTYPE "+o.ownerDocument.doctype.name+`>
`+N),U&&fe([Ee,be,Ae],M=>{N=J(N,M," ")}),v&&oe?v.createHTML(N):N},t.setConfig=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};we(c),Se=!0},t.clearConfig=function(){j=null,Se=!1},t.isValidAttribute=function(c,n,o){j||we({});const l=g(c),m=g(n);return mt(l,m,o)},t.addHook=function(c,n){typeof n=="function"&&Z(C[c],n)},t.removeHook=function(c){return Et(C[c])},t.removeHooks=function(c){C[c]=[]},t.removeAllHooks=function(){C=Lt()},t}var Rt=kt();function On(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}function We(e,t){return Array(t+1).join(e)}function wn(e){return e.replace(/^\n*/,"")}function In(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}var Dn=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function Ge(e){return je(e,Dn)}var xt=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function Pt(e){return je(e,xt)}function Mn(e){return Ht(e,xt)}var Ft=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function kn(e){return je(e,Ft)}function xn(e){return Ht(e,Ft)}function je(e,t){return t.indexOf(e.nodeName)>=0}function Ht(e,t){return e.getElementsByTagName&&t.some(function(i){return e.getElementsByTagName(i).length})}var A={};A.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};A.lineBreak={filter:"br",replacement:function(e,t,i){return i.br+`
`}};A.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,i){var r=Number(t.nodeName.charAt(1));if(i.headingStyle==="setext"&&r<3){var a=We(r===1?"=":"-",e.length);return`

`+e+`
`+a+`

`}else return`

`+We("#",r)+" "+e+`

`}};A.blockquote={filter:"blockquote",replacement:function(e){return e=e.replace(/^\n+|\n+$/g,""),e=e.replace(/^/gm,"> "),`

`+e+`

`}};A.list={filter:["ul","ol"],replacement:function(e,t){var i=t.parentNode;return i.nodeName==="LI"&&i.lastElementChild===t?`
`+e:`

`+e+`

`}};A.listItem={filter:"li",replacement:function(e,t,i){e=e.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=i.bulletListMarker+"   ",a=t.parentNode;if(a.nodeName==="OL"){var s=a.getAttribute("start"),f=Array.prototype.indexOf.call(a.children,t);r=(s?Number(s)+f:f+1)+".  "}return r+e+(t.nextSibling&&!/\n$/.test(e)?`
`:"")}};A.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,i){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};A.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,i){for(var r=t.firstChild.getAttribute("class")||"",a=(r.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,f=i.fence.charAt(0),R=3,d=new RegExp("^"+f+"{3,}","gm"),_;_=d.exec(s);)_[0].length>=R&&(R=_[0].length+1);var H=We(f,R);return`

`+H+a+`
`+s.replace(/\n$/,"")+`
`+H+`

`}};A.horizontalRule={filter:"hr",replacement:function(e,t,i){return`

`+i.hr+`

`}};A.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var i=t.getAttribute("href");i&&(i=i.replace(/([()])/g,"\\$1"));var r=pe(t.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+e+"]("+i+r+")"}};A.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,i){var r=t.getAttribute("href"),a=pe(t.getAttribute("title"));a&&(a=' "'+a+'"');var s,f;switch(i.linkReferenceStyle){case"collapsed":s="["+e+"][]",f="["+e+"]: "+r+a;break;case"shortcut":s="["+e+"]",f="["+e+"]: "+r+a;break;default:var R=this.references.length+1;s="["+e+"]["+R+"]",f="["+R+"]: "+r+a}return this.references.push(f),s},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};A.emphasis={filter:["em","i"],replacement:function(e,t,i){return e.trim()?i.emDelimiter+e+i.emDelimiter:""}};A.strong={filter:["strong","b"],replacement:function(e,t,i){return e.trim()?i.strongDelimiter+e+i.strongDelimiter:""}};A.code={filter:function(e){var t=e.previousSibling||e.nextSibling,i=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!i},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",i="`",r=e.match(/`+/gm)||[];r.indexOf(i)!==-1;)i=i+"`";return i+t+e+t+i}};A.image={filter:"img",replacement:function(e,t){var i=pe(t.getAttribute("alt")),r=t.getAttribute("src")||"",a=pe(t.getAttribute("title")),s=a?' "'+a+'"':"";return r?"!["+i+"]("+r+s+")":""}};function pe(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Ut(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}Ut.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=Fe(this.array,e,this.options))||(t=Fe(this._keep,e,this.options))||(t=Fe(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function Fe(e,t,i){for(var r=0;r<e.length;r++){var a=e[r];if(Pn(a,t,i))return a}}function Pn(e,t,i){var r=e.filter;if(typeof r=="string"){if(r===t.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(e,t,i))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function Fn(e){var t=e.element,i=e.isBlock,r=e.isVoid,a=e.isPre||function(ge){return ge.nodeName==="PRE"};if(!(!t.firstChild||a(t))){for(var s=null,f=!1,R=null,d=Nt(R,t,a);d!==t;){if(d.nodeType===3||d.nodeType===4){var _=d.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!f&&_[0]===" "&&(_=_.substr(1)),!_){d=He(d);continue}d.data=_,s=d}else if(d.nodeType===1)i(d)||d.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,f=!1):r(d)||a(d)?(s=null,f=!0):s&&(f=!1);else{d=He(d);continue}var H=Nt(R,d,a);R=d,d=H}s&&(s.data=s.data.replace(/ $/,""),s.data||He(s))}}function He(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function Nt(e,t,i){return e&&e.parentNode===t||i(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var Ye=typeof window<"u"?window:{};function Hn(){var e=Ye.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function Un(){var e=function(){};return Bn()?e.prototype.parseFromString=function(t){var i=new window.ActiveXObject("htmlfile");return i.designMode="on",i.open(),i.write(t),i.close(),i}:e.prototype.parseFromString=function(t){var i=document.implementation.createHTMLDocument("");return i.open(),i.write(t),i.close(),i},e}function Bn(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{Ye.ActiveXObject&&(e=!0)}return e}var zn=Hn()?Ye.DOMParser:Un();function Wn(e,t){var i;if(typeof e=="string"){var r=Gn().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");i=r.getElementById("turndown-root")}else i=e.cloneNode(!0);return Fn({element:i,isBlock:Ge,isVoid:Pt,isPre:t.preformattedCode?jn:null}),i}var Ue;function Gn(){return Ue=Ue||new zn,Ue}function jn(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Yn(e,t){return e.isBlock=Ge(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=$n(e),e.flankingWhitespace=Vn(e,t),e}function $n(e){return!Pt(e)&&!kn(e)&&/^\s*$/i.test(e.textContent)&&!Mn(e)&&!xn(e)}function Vn(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var i=Xn(e.textContent);return i.leadingAscii&&Ct("left",e,t)&&(i.leading=i.leadingNonAscii),i.trailingAscii&&Ct("right",e,t)&&(i.trailing=i.trailingNonAscii),{leading:i.leading,trailing:i.trailing}}function Xn(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function Ct(e,t,i){var r,a,s;return e==="left"?(r=t.previousSibling,a=/ $/):(r=t.nextSibling,a=/^ /),r&&(r.nodeType===3?s=a.test(r.nodeValue):i.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!Ge(r)&&(s=a.test(r.textContent))),s}var qn=Array.prototype.reduce,Kn=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function he(e){if(!(this instanceof he))return new he(e);var t={rules:A,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(i,r){return r.isBlock?`

`:""},keepReplacement:function(i,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(i,r){return r.isBlock?`

`+i+`

`:i}};this.options=On({},t,e),this.rules=new Ut(this.options)}he.prototype={turndown:function(e){if(!Qn(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=Bt.call(this,new Wn(e,this.options));return Zn.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return Kn.reduce(function(t,i){return t.replace(i[0],i[1])},e)}};function Bt(e){var t=this;return qn.call(e.childNodes,function(i,r){r=new Yn(r,t.options);var a="";return r.nodeType===3?a=r.isCode?r.nodeValue:t.escape(r.nodeValue):r.nodeType===1&&(a=Jn.call(t,r)),zt(i,a)},"")}function Zn(e){var t=this;return this.rules.forEach(function(i){typeof i.append=="function"&&(e=zt(e,i.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function Jn(e){var t=this.rules.forNode(e),i=Bt.call(this,e),r=e.flankingWhitespace;return(r.leading||r.trailing)&&(i=i.trim()),r.leading+t.replacement(i,e,this.options)+r.trailing}function zt(e,t){var i=In(e),r=wn(t),a=Math.max(e.length-i.length,t.length-r.length),s=`

`.substring(0,a);return i+s+r}function Qn(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}const ei=[{name:"Black",value:"#000000"},{name:"Dark Gray",value:"#666666"},{name:"Gray",value:"#999999"},{name:"Light Gray",value:"#CCCCCC"},{name:"White",value:"#FFFFFF"},{name:"Red",value:"#FF0000"},{name:"Orange",value:"#FF9900"},{name:"Yellow",value:"#FFFF00"},{name:"Green",value:"#00FF00"},{name:"Blue",value:"#0000FF"},{name:"Purple",value:"#9900FF"}];function ti(){const e=document.createElement("div");e.className="emoji-picker dropdown-menu";const t=["ðŸ˜€","ðŸ˜‚","ðŸ¥°","ðŸ˜Ž","ðŸ¤”","ðŸ‘","ðŸ‘Ž","â¤ï¸","â­","ðŸ”¥"];return e.innerHTML=t.map(i=>`<button class="emoji-btn" data-emoji="${i}">${i}</button>`).join(""),e}function ni(){const e=document.createElement("div");return e.className="editor-toolbar",e.innerHTML=`
    <div class="toolbar-group">
      <details role="list" class="dropdown">
        <summary aria-haspopup="listbox">Paragraph</summary>
        <ul role="listbox">
          <li><button data-command="formatBlock" data-value="p">Paragraph</button></li>
          <li><button data-command="formatBlock" data-value="h1">Heading 1</button></li>
          <li><button data-command="formatBlock" data-value="h2">Heading 2</button></li>
          <li><button data-command="formatBlock" data-value="h3">Heading 3</button></li>
          <li><button data-command="formatBlock" data-value="h4">Heading 4</button></li>
          <li><button data-command="formatBlock" data-value="h5">Heading 5</button></li>
          <li><button data-command="formatBlock" data-value="h6">Heading 6</button></li>
          <li><button data-command="formatBlock" data-value="blockquote">Blockquote</button></li>
        </ul>
      </details>

      <details role="list" class="dropdown">
        <summary aria-haspopup="listbox">Font</summary>
        <ul role="listbox">
          <li><button data-command="fontName" data-value="Arial">Arial</button></li>
          <li><button data-command="fontName" data-value="Times New Roman">Times New Roman</button></li>
          <li><button data-command="fontName" data-value="Courier New">Courier New</button></li>
        </ul>
      </details>

      <details role="list" class="dropdown">
        <summary aria-haspopup="listbox">Size</summary>
        <ul role="listbox">
          <li><button data-command="fontSize" data-value="1">Small</button></li>
          <li><button data-command="fontSize" data-value="3">Normal</button></li>
          <li><button data-command="fontSize" data-value="5">Large</button></li>
          <li><button data-command="fontSize" data-value="7">Huge</button></li>
        </ul>
      </details>

      <details role="list" class="dropdown">
        <summary aria-haspopup="listbox">Color</summary>
        <ul role="listbox" class="color-menu">
          ${ei.map(t=>`
            <li><button data-command="foreColor" data-value="${t.value}" style="color: ${t.value}">
              <i class="bi bi-circle-fill"></i> ${t.name}
            </button></li>
          `).join("")}
        </ul>
      </details>
    </div>

    <div class="toolbar-group">
      <button data-command="bold" title="Bold"><i class="bi bi-type-bold"></i></button>
      <button data-command="italic" title="Italic"><i class="bi bi-type-italic"></i></button>
      <button data-command="underline" title="Underline"><i class="bi bi-type-underline"></i></button>
    </div>

    <div class="toolbar-group">
      <button data-command="justifyLeft" title="Align Left"><i class="bi bi-text-left"></i></button>
      <button data-command="justifyCenter" title="Align Center"><i class="bi bi-text-center"></i></button>
      <button data-command="justifyRight" title="Align Right"><i class="bi bi-text-right"></i></button>
      <button data-command="justifyFull" title="Justify"><i class="bi bi-justify"></i></button>
    </div>

    <div class="toolbar-group">
      <button data-command="insertUnorderedList" title="Bullet List"><i class="bi bi-list-ul"></i></button>
      <button data-command="insertOrderedList" title="Numbered List"><i class="bi bi-list-ol"></i></button>
      <button data-command="insertHorizontalRule" title="Horizontal Line"><i class="bi bi-dash-lg"></i></button>
    </div>

    <div class="toolbar-group">
      <button id="insertCard" title="Insert Card"><i class="bi bi-card-text"></i></button>
      <button id="insertAccordion" title="Insert Accordion"><i class="bi bi-chevron-down"></i></button>
      <button id="insertImage" title="Insert Image"><i class="bi bi-image"></i></button>
      <button id="insertTable" title="Insert Table"><i class="bi bi-table"></i></button>
      <button id="insertLink" title="Insert Link"><i class="bi bi-link"></i></button>
      <details role="list" class="dropdown">
        <summary aria-haspopup="listbox" title="Insert Emoji"><i class="bi bi-emoji-smile"></i></summary>
        <ul role="listbox" class="emoji-menu">
          ${ti().innerHTML}
        </ul>
      </details>
    </div>

    <div class="toolbar-group">
      <button id="undo" title="Undo"><i class="bi bi-arrow-counterclockwise"></i></button>
      <button id="redo" title="Redo"><i class="bi bi-arrow-clockwise"></i></button>
    </div>

    <div class="toolbar-group">
      <button id="viewSource" title="View Source"><i class="bi bi-code-slash"></i></button>
    </div>
  `,e}class ii{constructor(){this.items=[],this.index=-1}push(t){this.index++,this.items=this.items.slice(0,this.index),this.items.push(t)}undo(){return this.index>0?(this.index--,this.items[this.index]):null}redo(){return this.index<this.items.length-1?(this.index++,this.items[this.index]):null}}class ri{constructor(t){this.container=t,this.history=new ii,this.turndownService=new he,this.init()}init(){this.toolbar=ni(),this.container.appendChild(this.toolbar),this.editor=document.createElement("div"),this.editor.className="editor-content",this.editor.contentEditable=!0,this.container.appendChild(this.editor),this.setupEventListeners()}setupEventListeners(){this.toolbar.querySelectorAll("[data-command]").forEach(t=>{t.addEventListener("click",i=>{const r=i.target.closest("[data-command]").dataset.command,a=i.target.closest("[data-command]").dataset.value||"";this.execCommand(r,a)})}),document.getElementById("insertCard").addEventListener("click",()=>this.handleCardInsert()),document.getElementById("insertAccordion").addEventListener("click",()=>this.handleAccordionInsert()),document.getElementById("insertImage").addEventListener("click",()=>this.handleImageInsert()),document.getElementById("insertTable").addEventListener("click",()=>this.handleTableInsert()),document.getElementById("insertLink").addEventListener("click",()=>this.handleLinkInsert()),document.getElementById("undo").addEventListener("click",()=>this.undo()),document.getElementById("redo").addEventListener("click",()=>this.redo()),document.getElementById("viewSource").addEventListener("click",()=>this.toggleSource()),this.toolbar.querySelectorAll(".emoji-btn").forEach(t=>{t.addEventListener("click",i=>{i.preventDefault(),this.execCommand("insertText",i.target.dataset.emoji)})}),this.editor.addEventListener("input",()=>{this.history.push(this.editor.innerHTML)})}execCommand(t,i=""){document.execCommand(t,!1,i),this.editor.focus()}getContent(t="html"){const i=Rt.sanitize(this.editor.innerHTML);return t==="markdown"?this.turndownService.turndown(i):i}setContent(t){this.editor.innerHTML=Rt.sanitize(t),this.history.push(this.editor.innerHTML)}undo(){const t=this.history.undo();t!==null&&(this.editor.innerHTML=t)}redo(){const t=this.history.redo();t!==null&&(this.editor.innerHTML=t)}toggleSource(){this.editor.classList.contains("showing-source")?(this.editor.innerHTML=this.editor.textContent,this.editor.classList.remove("showing-source")):(this.editor.textContent=this.editor.innerHTML,this.editor.classList.add("showing-source"))}}const oi=document.querySelector("#app"),Ot=new ri(oi);document.querySelector("#app").insertAdjacentHTML("beforeend",`
  <form id="editorForm" class="container">
    <button type="submit">Submit</button>
  </form>
`);document.querySelector("#editorForm").addEventListener("submit",e=>{e.preventDefault();const t=Ot.getContent("html"),i=Ot.getContent("markdown");console.log("HTML Content:",t),console.log("Markdown Content:",i)});
